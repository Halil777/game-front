import{D as m,j as e}from"./index-D7wwbXIT.js";import{u as h,m as n,C as l}from"./index-_y1m69b3.js";import{B as g}from"./baseUrl-DACQt1tI.js";import{R as y,C as p}from"./row-C62LNfe3.js";import"./responsiveObserver-COlPBKGr.js";const f=async a=>{const r=localStorage.getItem("token");if(!r)throw new Error("Token not found in localStorage");const i=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({page:1,size:20,sort:"sort_by_date_desc",location:"LOCAL"})});if(!i.ok){const o=await i.json();throw console.error("API Error:",o),new Error(o.message||"An error occurred while fetching data")}return i.json()},j="http://88.218.60.127:5678",u={hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},E=()=>{const{data:a,error:r}=m(`${j}/game/admin/get-games`,f),[i,o]=h({triggerOnce:!0});if(r)return console.error("Error loading games:",r),e.jsxs("div",{children:["Error loading games: ",r.message]});if(!a)return e.jsx("div",{children:"Loading..."});const c=(Array.isArray(a==null?void 0:a.games)?a.games:[]).filter(t=>t.location==="LOCAL");return e.jsx("div",{className:"local-games-container",children:e.jsxs("div",{className:"container",children:[e.jsxs(n.div,{className:"intro-section",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsx("h1",{children:"Local Games"}),e.jsx("p",{children:"Local games are those that are installed and played on a local machine or network. They offer high performance and the ability to play offline without the need for an internet connection. Enjoy a wide variety of local games ranging from single-player adventures to multiplayer LAN games."})]}),e.jsx(n.div,{className:"games-section",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},ref:i,children:e.jsx(y,{gutter:[16,16],children:c.map((t,d)=>{var s;return e.jsx(p,{xs:24,sm:12,md:8,lg:6,children:e.jsx(n.div,{initial:"hidden",animate:o?"visible":"hidden",variants:u,transition:{duration:.5,delay:d*.1},children:e.jsx(l,{hoverable:!0,cover:e.jsx("img",{alt:t.title_en,src:`${g}/${(s=t.assets[0])==null?void 0:s.url}`,style:{height:"200px",objectFit:"cover"}}),children:e.jsx(l.Meta,{title:e.jsx("span",{className:"game-title",children:t.title_en})})})})},t.id)})})})]})})};export{E as default};
