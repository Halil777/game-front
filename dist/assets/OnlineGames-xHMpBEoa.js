import{D as g,j as e}from"./index-D7wwbXIT.js";import{u as h,m as o,C as c}from"./index-_y1m69b3.js";const p=async a=>{const r=localStorage.getItem("token");if(!r)throw new Error("Token not found in localStorage");const n=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({page:1,size:20,sort:"sort_by_date_desc",location:"GLOBAL"})});if(!n.ok){const i=await n.json();throw console.error("API Error:",i),new Error(i.message||"An error occurred while fetching data")}return n.json()},l="http://88.218.60.127:5678",y={hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},f=()=>{const{data:a,error:r}=g(`${l}/game/admin/get-games`,p),[n,i]=h({triggerOnce:!0});if(r)return console.error("Error loading games:",r),e.jsxs("div",{children:["Error loading games: ",r.message]});if(!a)return e.jsx("div",{children:"Loading..."});const d=(Array.isArray(a==null?void 0:a.games)?a.games:[]).filter(s=>s.location==="GLOBAL");return e.jsxs("div",{className:"online-games-container",children:[e.jsx("h2",{className:"games-heading",children:"Online Games"}),e.jsx("p",{className:"games-description",children:"Explore and enjoy multiplayer online games."}),e.jsx(o.div,{className:"games-cards",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:d.map((s,m)=>{var t;return e.jsx(o.div,{ref:n,initial:"hidden",animate:i?"visible":"hidden",variants:y,transition:{duration:.5,delay:m*.1},className:"game-card",children:e.jsx(c,{hoverable:!0,cover:e.jsx("img",{alt:s.title_en,src:`${l}/${(t=s.assets[0])==null?void 0:t.url}`}),children:e.jsx(c.Meta,{title:e.jsx("span",{className:"game-title",children:s.title_en})})})},s.id)})})]})};export{f as default};
